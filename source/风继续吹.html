<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>风继续吹</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <style>
            ruby {
                font-size: 1rem;
            }
            
            rt {
                font-size: 0.3rem;
            }
        </style>
</head>
<script>
    (function () {
        const applyTheme = () => {
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
            document.documentElement.setAttribute("data-bs-theme", prefersDark ? "dark" : "light");
        };
        applyTheme();
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", applyTheme);
    })();
</script>

<body class="fluid-container py-5">
    <!-- <ruby>TODO: https://www.feitsui.com/zh-hans/lyrics/69 <rt> han1 </rt></ruby> -->
    <div class="d-flex justify-content-center">
        <div id="chord" class="mx-auto" style="white-space: pre-wrap; overflow: hidden; font-family: monospace">
[INTRO]
| Cmaj7|Fmaj7|C D |Cmaj7|Dm7|C | G | Cmaj7 |
[VERSE]
| Cmaj7        | C        C7   | Fmaj7
（）我勸你早點歸去（）你說你（不）想歸去（只）叫我抱著你
   |Dm         G7        | Cmaj7
悠悠（海）風輕輕吹（冷）卻了野火 堆（）我看見傷心的你
| C        C7     | Fmaj7       | Dm7         G       |
（）你叫我（怎）舍得去（哭）態也絕美如何（止）哭 祇得輕（吻）你發邊
[CHORUS]
  | C      Am | Dm7     G7 | C       Am     | Dm7      G7 |
讓（風）繼續（吹）（不）忍遠（離）（）心裏極渴（望）希望（留）下伴著（你）
| C   Am | Dm7    G7 | C         Am    | Dm7       G7 |
風繼續（吹）（不）忍遠（離）（）心裏亦有（淚）不願（流）淚望著（你）
  | Fmaj7      | E7    | Am         | Dm  G |
過去（多）少快樂記（憶）何妨（與）你，一起去（追）
   | C          Em    | F           G |
要將（憂）鬱苦痛洗（去）柔情（蜜）意我願記（取）
   | C       Am7 | Dm7        G     | C      Am7 |
要強（忍）離情（淚）未（許）它向下（垂）愁如（鎖）眉頭（聚）
    | Dm7        G | G | Dm Em F G | G / / 2/4
別離淚（始）終要下（垂）
[BRIDGE]
| C        Em  | Am         C7     | F        E7 |
（）我已令你（快）樂（）你也讓我（癡）癡醉（你已）在我（心）
      | Am    Am7        | F      G           | C    Fm |
不必再問（記）著誰（）留住眼內（每）滴淚（）為何仍繼續流（默）默垂
[ENDING]
G            | C       G           | C       | G# Bb C
（）為何仍斷續流（默）默垂，（）為何仍斷續流（默）默垂...
</pre>
        </div>

        <script>
            // Function to check if a string contains only ASCII characters
            function isAsciiOnly(str) {
                return /^[\x00-\x7F]*$/.test(str);
            }

            // Function to check if a string is surrounded by [ and ]
            function isSurroundedByBrackets(str) {
                return /^\[.*\]$/.test(str);
            }

            // Function to highlight ASCII-only lines and bracketed lines in a <pre> element
            function highlightAsciiLines(preElement, asciiClass = "highlight-ascii", bracketClass = "highlight-bracket") {
                if (!preElement || preElement.tagName !== "DIV") {
                    console.error("The provided element is not a <pre> element.");
                    return;
                }

                // Split content into lines
                const lines = preElement.innerHTML.split("\n");

                // Clear the current content
                preElement.innerHTML = "";

                // Process each line
                lines.forEach(line => {
                    const lineElement = document.createElement("div");
                    lineElement.innerHTML = line;

                    // Check if the line contains only ASCII characters
                    if (isAsciiOnly(line)) {
                        lineElement.classList.add(asciiClass);
                    }

                    // Check if the line is surrounded by [ and ]
                    if (isSurroundedByBrackets(line)) {
                        lineElement.classList.add(bracketClass);
                    }

                    preElement.appendChild(lineElement);
                });
            }

            // Usage example
            const preElement = document.querySelector("#chord");
            highlightAsciiLines(preElement);

            // Add styles for the highlight classes
            document.head.insertAdjacentHTML("beforeend", `
<style>
  [data-bs-theme="dark"] .highlight-ascii {
      color: #ffffa8;
  }
  [data-bs-theme="dark"] .highlight-bracket {
      color: #00afff;
  }

[data-bs-theme="light"] .highlight-ascii {
    color: #004080; /* Dark blue for visibility on light backgrounds */
}

[data-bs-theme="light"] .highlight-bracket {
    color: #800000; /* Deep red to stand out on light themes */
}

</style>
`);
        </script>
</body>

</html>